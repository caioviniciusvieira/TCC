<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="/PcMaster/assets/Imagens/Logo-2 TCC.png" type="image/x-icon" />
  <link rel="stylesheet" href="/PcMaster/src/CSS/carrinho.css" />
  <title>Configuração de Conta</title>
</head>

<body>
  <!-- Cabeçalho -->
  <header>
    <div class="header-content">
      <span id="logo">
        <img class="icon" src="/PcMaster/assets/Imagens/pces.png" alt="Master PC Logo" />
        <h2>MasterPC</h2>
      </span>

      <ul class="header-navegacao">
        <li><a href="/PcMaster/tests/itemTeste.html">Item</a></li>
        <li class="nav-item"><a href="/PcMaster/tests/montagem.html">Montagem</a></li>
        <li class="nav-item"><a href="/PcMaster/tests/index.html">Loja</a></li>
      </ul>

      <div class="header-right">
        <div class="header-barraPesquisa">
          <form class="autocomplete" autocomplete="off">
            <div>
              <input type="text" id="input" placeholder="Digite..." />
            </div>
            <ul class="list"></ul>
          </form>
        </div>

          <ul class="header-conta">
                    <li><a href="/PcMaster/puplic/cadastro.html">Cadastrar</a></li>
                    <li><a href="/PcMaster/puplic/login.html">Login</a></li>
                    <li class="user-dropdown-container">
                        <div class="user" id="user-btn">
                         <img src="/PcMaster/assets/Imagens/Perfil.png" alt="perfil">
                </div>
                    <ul class="user-dropdown-menu">
                        <li class="user-logout">
                            <span class="user-name">João Silva</span> <a class="logout-index" href="#">Sair</a>
                            </li>
                            <li><a href="config.html">Conta</a></li>
                            <li><a href="#">Carrinho</a></li>
                            <li><a href="#">Endereço</a></li>
                            <li><a href="#">Ajuda</a></li>
                        </li>
                    </ul>
                    <li style="position: relative;">
                    <img class="carrinho icon" src="/PcMaster/assets/Imagens/carrinhos.png" alt="Carrinho de compras">
                    <span class="cart-badge"></span>
                    </li>

                </ul>
            </div>

      <div class="hamburger-menu">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
      </div>
    </div>

    <nav class="mobile-nav">
      <ul>
        <li><a href="index.html">Inicio</a></li>
        <li><a href="#">Montar</a></li>
        <li><a href="Loja.html">Loja</a></li>
        <li><a href="cadastro.html">Sign Up</a></li>
        <li><a href="#">Minha Conta</a></li>
        <li><a href="#">Carrinho</a></li>
        <li><input type="search" placeholder="Pesquisar" /></li>
        <li class="nav-sub-item">Armazenamento</li>
        <li class="nav-sub-item">Placa-mãe</li>
        <li class="nav-sub-item">Placa de video </li>
        <li class="nav-sub-item">Gabinete</li>
        <li class="nav-sub-item">Processador</li>
        <li class="nav-sub-item">Fonte</li>
        <li class="nav-sub-item">Memória</li>
        <li class="nav-sub-item">Fans</li>
        <li class="nav-sub-item">Montar</li>
        <li class="nav-sub-item">Ajuda</li>
      </ul>
    </nav>
  </header>

  <div class="sub-header desktop-only">
    <li class="sub-header-item">Armazenamento</li>
    <li class="sub-header-item">Placa-mãe</li>
    <li class="sub-header-item">Placa de video </li>
    <li class="sub-header-item">Gabinete</li>
    <li class="sub-header-item">Processador</li>
    <li class="sub-header-item">Fonte</li>
    <li class="sub-header-item">Memória</li>
    <li class="sub-header-item">Fans</li>
    <li class="sub-header-item">Montar</li>
    <li class="sub-header-item">Ajuda</li>
  </div>


  <!-- ===== Layout ===== -->
  <main class="page">
    <div class="account-wrapper">
      
      <!-- Sidebar -->
    <!-- Menu lateral -->
    <aside class="account-sidebar">
      <div class="sidebar-profile">
        <img src="/PcMaster/assets/Imagens/Perfil.png" id="profile-preview" alt="Foto de Perfil" />
      </div>
      <h3>João da Silva</h3>
      <nav class="account-menu">
        <ul>
          <li><a href="config.html">Configurações</a></li>
          <li class="active"><a href="carrinho.html">Carrinho</a></li>
          <li><a href="ajuda.html">Ajuda</a></li>
          <li><a href="pedidos.html">Meus Pedidos</a></li>
          <li><a href="logout.html">Sair da Conta</a></li>
        </ul>
      </nav>
    </aside>

      <!-- Carrinho -->
      <section class="cart">
        <h2 class="title">Meu Carrinho</h2>
        
        <div class="cart-items">

          <!-- Item do carrinho -->
          <a href="" class="cart-item">
            <img class="item" src="/PcMaster/assets/Imagens/5060-windforce.webp" alt="Produto" />
            <div class="cart-info">
              <h3 class="title-item">Placa de Vídeo RTX 5060</h3>
              <p class="subtitle-item">8GB GDDR6, Ray Tracing, DLSS 3</p>
              <span class="price">R$ 3.299,00</span>
              <div class="cart-controls">
                <button class="remove">Remover</button>
                <button class="comprar">Comprar</button>
              </div>
            </div>
          </a>

          <!-- Outro item -->
          <a href="" class="cart-item">
            <img  class="item" src="/PcMaster/assets/Imagens/Ryzen-5600gt.webp" alt="Produto" />
            <div class="cart-info">
              <h3 class="title-item">Processador Ryzen 5 5500</h3>
              <p class="subtitle-item">5.0GHz, 6 núcleos, AM4</p>
              <span class="price">R$ 2.099,00</span>
              <div class="cart-controls">
                <button class="remove">Remover</button>
                <button class="comprar">Comprar</button>
              </div>
            </div>
          </a>
        </div>
      </section>
    </div>
  </main>

  <script>
function getCart() {
  return JSON.parse(localStorage.getItem("cart")) || [];
}

function saveCart(cart) {
  localStorage.setItem("cart", JSON.stringify(cart));
}

// Atualiza o badge do ícone de carrinho
function updateCartCount() {
  const cart = getCart();
  const badge = document.querySelector(".cart-badge");
  if (badge) {
    badge.textContent = cart.length;
  }
}

// Renderiza os itens do carrinho na página
function renderCart() {
  const cart = getCart();
  const container = document.querySelector(".cart-items");
  container.innerHTML = ""; // limpa antes de renderizar

  cart.forEach((item, index) => {
    const product = document.createElement("div");
    product.classList.add("cart-item");
    product.innerHTML = `
      <img class="item" src="${item.img}" alt="Produto" />
      <div class="cart-info">
        <h3 class="title-item">${item.nome}</h3>
        <p class="subtitle-item">${item.desc}</p>
        <span class="price">${item.preco}</span>
        <div class="cart-controls">
          <button class="remove" data-index="${index}">Remover</button>
          <button class="comprar">Comprar</button>
        </div>
      </div>
    `;
    container.appendChild(product);
  });

  updateCartCount();
  enableRemoveButtons();
}

// Habilita os botões "Remover"
function enableRemoveButtons() {
  document.querySelectorAll(".remove").forEach(btn => {
    btn.addEventListener("click", function() {
      const index = this.getAttribute("data-index");
      const cart = getCart();
      cart.splice(index, 1); // remove pelo índice
      saveCart(cart);
      renderCart();
    });
  });
}

// Exemplo: adicionar item ao carrinho (usaria na loja)
function addToCart(item) {
  const cart = getCart();
  cart.push(item);
  saveCart(cart);
  updateCartCount();
}

// Inicializa ao carregar a página
document.addEventListener("DOMContentLoaded", () => {
  renderCart();

  // --- Exemplo inicial: só pra testar, adiciona 2 produtos se o carrinho estiver vazio ---
  if (getCart().length === 0) {
    addToCart({
      nome: "Placa de Vídeo RTX 5060",
      desc: "8GB GDDR6, Ray Tracing, DLSS 3",
      preco: "R$ 3.299,00",
      img: "/PcMaster/assets/Imagens/5060-windforce.webp"
    });
    addToCart({
      nome: "Processador Ryzen 5 5500",
      desc: "5.0GHz, 6 núcleos, AM4",
      preco: "R$ 2.099,00",
      img: "/PcMaster/assets/Imagens/Ryzen-5600gt.webp"
    });
    renderCart();
  }
})

function renderCart() {
  const cart = getCart();
  const container = document.querySelector(".cart-items");
  container.innerHTML = ""; // limpa antes de renderizar

  if (cart.length === 0) {
    container.innerHTML = `
      <p class="cart-empty"> O carrinho esta vazio. </p>
    `;
    updateCartCount();
    return;
  }

  cart.forEach((item, index) => {
    const product = document.createElement("div");
    product.classList.add("cart-item");
    product.innerHTML = `
      <img class="item" src="${item.img}" alt="Produto" />
      <div class="cart-info">
        <h3 class="title-item">${item.nome}</h3>
        <p class="subtitle-item">${item.desc}</p>
        <span class="price">${item.preco}</span>
        <div class="cart-controls">
          <button class="remove" data-index="${index}">Remover</button>
          <button class="comprar">Comprar</button>
        </div>
      </div>
    `;
    container.appendChild(product);
  });

  updateCartCount();
  enableRemoveButtons();
}
;
</script>


   <script src="/PcMaster/scripts/JS/search-bar2.js"></script>
   <script src="/PcMaster/scripts/JS/dropdown.js"></script>
</body>
</html>
